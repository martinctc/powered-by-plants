<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Tried and tested vegan recipes - from Chinese classics to Western favourites. Perfect for Veganuary!">
  <title>Recipes | Powered by Plants</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    .recipe-card {
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .recipe-card.hidden {
      display: none;
    }
    .recipe-card.fade-out {
      opacity: 0;
      transform: scale(0.95);
    }
    .recipe-card.fade-in {
      opacity: 1;
      transform: scale(1);
    }
    .recipe-count {
      text-align: center;
      color: #666;
      font-size: 0.95rem;
      margin-top: 1rem;
      padding: 0.5rem;
      background: #f8f9fa;
      border-radius: 8px;
    }
    .filter-hint {
      text-align: center;
      color: #888;
      font-size: 0.85rem;
      margin-top: 0.5rem;
    }
    .clear-filters {
      background: #ff6b6b;
      color: white;
      border: none;
      padding: 0.4rem 1rem;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.85rem;
      margin-left: 0.5rem;
      transition: background 0.3s ease;
    }
    .clear-filters:hover {
      background: #ee5a5a;
    }
    .clear-filters.hidden {
      display: none;
    }

    /* Recipe card clickable */
    .recipe-card {
      cursor: pointer;
      position: relative;
    }
    .recipe-card::after {
      content: 'Click for recipe ‚Üí';
      position: absolute;
      bottom: 1rem;
      right: 1rem;
      font-size: 0.8rem;
      color: #4CAF50;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .recipe-card:hover::after {
      opacity: 1;
    }

    /* Recipe card icons */
    .recipe-icon {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 2.5rem;
      opacity: 0.8;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }
    .recipe-card:hover .recipe-icon {
      transform: scale(1.2) rotate(5deg);
      opacity: 1;
    }
    @media (max-width: 768px) {
      .recipe-icon {
        font-size: 2rem;
        top: 0.75rem;
        right: 0.75rem;
      }
    }

    /* Modal styles */
    .recipe-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 2000;
      overflow-y: auto;
      padding: 2rem;
      box-sizing: border-box;
    }
    .recipe-modal.active {
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
    .modal-content {
      background: white;
      max-width: 800px;
      width: 100%;
      border-radius: 16px;
      overflow: hidden;
      position: relative;
      margin: auto;
      animation: modalSlideIn 0.3s ease;
    }
    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .modal-header {
      background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
      color: white;
      padding: 2rem;
      position: relative;
    }
    .modal-header h2 {
      margin: 0 0 0.5rem 0;
      font-size: 1.8rem;
    }
    .modal-header .chinese-name {
      font-size: 1.2rem;
      opacity: 0.9;
    }
    .modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .modal-close:hover {
      background: rgba(255,255,255,0.3);
    }
    .modal-body {
      padding: 2rem;
    }
    .modal-tags {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-top: 1rem;
    }
    .modal-tags .tag {
      background: rgba(255,255,255,0.2);
      color: white;
    }
    .recipe-section {
      margin-bottom: 2rem;
    }
    .recipe-section h3 {
      color: #4CAF50;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #E8F5E9;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .recipe-section ul {
      list-style: none;
      padding: 0;
    }
    .recipe-section ul li {
      padding: 0.5rem 0;
      padding-left: 1.5rem;
      position: relative;
      border-bottom: 1px solid #f0f0f0;
    }
    .recipe-section ul li::before {
      content: '‚Ä¢';
      position: absolute;
      left: 0;
      color: #4CAF50;
      font-weight: bold;
    }
    .recipe-section ol {
      padding-left: 1.5rem;
    }
    .recipe-section ol li {
      padding: 0.75rem 0;
      border-bottom: 1px solid #f0f0f0;
    }
    .recipe-meta {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      margin-bottom: 2rem;
      padding: 1rem;
      background: #f8f9fa;
      border-radius: 8px;
    }
    .meta-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .meta-item .icon {
      font-size: 1.2rem;
    }
    .meta-item .label {
      color: #666;
      font-size: 0.85rem;
    }
    .meta-item .value {
      font-weight: 600;
      color: #333;
    }
    .recipe-tip {
      background: #FFF8E1;
      border-left: 4px solid #FFC107;
      padding: 1rem;
      border-radius: 0 8px 8px 0;
      margin-top: 1rem;
    }
    .recipe-tip strong {
      color: #F57C00;
    }
    .placeholder-note {
      background: #E3F2FD;
      border: 2px dashed #90CAF9;
      padding: 1rem;
      border-radius: 8px;
      color: #1565C0;
      font-style: italic;
      text-align: center;
    }

    @media (max-width: 768px) {
      .recipe-modal {
        padding: 1rem;
      }
      .modal-header h2 {
        font-size: 1.4rem;
        padding-right: 2rem;
      }
      .recipe-meta {
        gap: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <a href="index.html" class="logo">Powered <span>by Plants</span> üå±</a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="why-vegan.html">Why Vegan?</a></li>
        <li><a href="recipes.html" class="active">Recipes</a></li>
        <li><a href="tips.html">Tips</a></li>
        <li><a href="restaurants.html">Restaurants</a></li>
      </ul>
      <div class="menu-toggle" onclick="toggleMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero" style="min-height: 50vh; background-image: url('https://images.unsplash.com/photo-1543362906-acfc16c67564?w=1920&q=80');">
    <div class="hero-content">
      <h1>Recipes</h1>
      <p class="subtitle">Tried and tested favourites from my Veganuary journeys</p>
    </div>
  </section>

  <!-- Filters -->
  <section class="section section-white" style="padding-bottom: 0;">
    <div class="container">
      <div class="section-header">
        <h2>Filter by Category</h2>
        <p>Click tags to filter recipes (select multiple!)</p>
      </div>
      
      <div class="recipe-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="chinese">Chinese</button>
        <button class="filter-btn" data-filter="western">Western</button>
        <button class="filter-btn" data-filter="japanese">Japanese</button>
        <button class="filter-btn" data-filter="breakfast">Breakfast</button>
        <button class="filter-btn" data-filter="main">Main</button>
        <button class="filter-btn" data-filter="quick">Quick</button>
        <button class="filter-btn" data-filter="salad">Salad</button>
        <button class="filter-btn" data-filter="airfryer">Air Fryer</button>
        <button class="clear-filters hidden" id="clear-filters">Clear All</button>
      </div>
      <p class="filter-hint">üí° Tip: Select multiple tags to narrow down recipes</p>
      <div class="recipe-count" id="recipe-count">Showing all recipes</div>
    </div>
  </section>

  <!-- Recipe List -->
  <section class="section section-white">
    <div class="container">
      <div class="recipe-list" id="recipe-list">
        
        <!-- Chinese Recipes -->
        <div class="recipe-card" data-tags="chinese quick main" data-recipe="spring-onion-noodles">
          <span class="recipe-icon">üçú</span>
          <h3>Noodles in Spring Onion & Soy Sauce</h3>
          <p class="chinese-name">Ëî•Ê≤πÊãåÈ∫µ</p>
          <div class="recipe-tags">
            <span class="tag chinese">Chinese</span>
            <span class="tag quick">Quick</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="chinese main" data-recipe="creamed-cabbage">
          <span class="recipe-icon">ü•¨</span>
          <h3>Chinese Creamed Cabbage</h3>
          <p class="chinese-name">Â•∂Ê≤πÊ¥•ÁôΩ (using kombu stock as substitute)</p>
          <div class="recipe-tags">
            <span class="tag chinese">Chinese</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="chinese main" data-recipe="shanghai-rice-cake">
          <span class="recipe-icon">ü•°</span>
          <h3>Shanghainese Stir-Fried Rice Cake</h3>
          <p class="chinese-name">‰∏äÊµ∑ÁÇíÂπ¥Á≥ï ‚Äî with shiitake, wood ear, and deep-fried tofu</p>
          <div class="recipe-tags">
            <span class="tag chinese">Chinese</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="chinese main" data-recipe="braised-vegetables">
          <span class="recipe-icon">üç≤</span>
          <h3>Braised Vegetables with Red Fermented Beancurd</h3>
          <p class="chinese-name">Âçó‰π≥ÈΩãÁÖ≤</p>
          <div class="recipe-tags">
            <span class="tag chinese">Chinese</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="chinese quick" data-recipe="liang-pi">
          <span class="recipe-icon">ü•í</span>
          <h3>Cold Liang Pi with Cucumber</h3>
          <p class="chinese-name">È∫ªÈÜ¨Ê∂ºÁöÆ ‚Äî in a vinegar, garlic, and chilli oil dressing</p>
          <div class="recipe-tags">
            <span class="tag chinese">Chinese</span>
            <span class="tag quick">Quick</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="chinese main airfryer" data-recipe="fish-fragrant-aubergine">
          <span class="recipe-icon">üçÜ</span>
          <h3>Sichuan "Fish-Fragrant" Aubergine Stew</h3>
          <p class="chinese-name">Á¥†È≠öÈ¶ôËåÑÂ≠ê (using shiitake mushrooms)</p>
          <div class="recipe-tags">
            <span class="tag chinese">Chinese</span>
            <span class="tag main">Main</span>
            <span class="tag airfryer">Air Fryer</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="chinese main" data-recipe="vegan-chinese-soup">
          <span class="recipe-icon">üç≤</span>
          <h3>Vegan Chinese Soup</h3>
          <p class="chinese-name">Á¥†ËÄÅÁÅ´ÊπØ</p>
          <div class="recipe-tags">
            <span class="tag chinese">Chinese</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <!-- Western Recipes -->
        <div class="recipe-card" data-tags="western main" data-recipe="mushroom-bourguignon">
          <span class="recipe-icon">üçÑ</span>
          <h3>Mushroom Bourguignon</h3>
          <p class="chinese-name">Served with couscous or potatoes</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main" data-recipe="mushroom-risotto">
          <span class="recipe-icon">üçö</span>
          <h3>Mushroom Risotto with Caramelised Leek</h3>
          <p class="chinese-name">Creamy and comforting</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main" data-recipe="mushroom-soup">
          <span class="recipe-icon">ü•£</span>
          <h3>Mushroom and Onion Soup</h3>
          <p class="chinese-name">Served with sourdough</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main" data-recipe="madras-curry">
          <span class="recipe-icon">üçõ</span>
          <h3>Madras Curry with Juicy Marbles</h3>
          <p class="chinese-name">With chickpeas and lentils</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main" data-recipe="lions-mane-steak">
          <span class="recipe-icon">ü¶Å</span>
          <h3>Pan-Fried Lion's Mane Mushroom Steak</h3>
          <p class="chinese-name">Meaty and satisfying</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main quick" data-recipe="pesto-pasta">
          <span class="recipe-icon">üçù</span>
          <h3>All Variations of Pesto Pasta</h3>
          <p class="chinese-name">Basil, spinach, aubergine, mushroom, or sundried tomato</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
            <span class="tag quick">Quick</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main airfryer" data-recipe="cauliflower-steak">
          <span class="recipe-icon">ü•¶</span>
          <h3>Roasted / Air-Fried Cauliflower Steak</h3>
          <p class="chinese-name">Crispy and flavourful</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
            <span class="tag airfryer">Air Fryer</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main airfryer quick" data-recipe="brussels-sprouts-glaze">
          <span class="recipe-icon">ü•¨</span>
          <h3>Roasted Brussels Sprouts in Soy Sauce Glaze</h3>
          <p class="chinese-name">Crispy, sweet, and savoury ‚Äî works with any veg!</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
            <span class="tag airfryer">Air Fryer</span>
            <span class="tag quick">Quick</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western main" data-recipe="grain-stir-fry">
          <span class="recipe-icon">üåæ</span>
          <h3>Leek, Quinoa, Lentil & Bulgur Wheat Stir-Fry</h3>
          <p class="chinese-name">With tofu ‚Äî protein-packed</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag main">Main</span>
          </div>
        </div>

        <!-- Japanese -->
        <div class="recipe-card" data-tags="japanese main airfryer" data-recipe="miso-aubergine">
          <span class="recipe-icon">üáØüáµ</span>
          <h3>Miso Aubergine (Nasu Dengaku)</h3>
          <p class="chinese-name">Sweet and savoury glazed aubergine</p>
          <div class="recipe-tags">
            <span class="tag japanese">Japanese</span>
            <span class="tag main">Main</span>
            <span class="tag airfryer">Air Fryer</span>
          </div>
        </div>

        <!-- Salads & Light -->
        <div class="recipe-card" data-tags="western salad quick" data-recipe="combo-salad">
          <span class="recipe-icon">ü•ó</span>
          <h3>All Combos Salad</h3>
          <p class="chinese-name">Chicory, tomatoes, beetroot, leafy veg, roasted mushroom, aubergine, courgette, all the nuts</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag salad">Salad</span>
            <span class="tag quick">Quick</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="western quick" data-recipe="bruschetta">
          <span class="recipe-icon">üçÖ</span>
          <h3>Tomato and Basil Bruschetta</h3>
          <p class="chinese-name">Fresh and simple</p>
          <div class="recipe-tags">
            <span class="tag western">Western</span>
            <span class="tag quick">Quick</span>
          </div>
        </div>

        <!-- Breakfast -->
        <div class="recipe-card" data-tags="breakfast quick western" data-recipe="avocado-toast">
          <span class="recipe-icon">ü•ë</span>
          <h3>Smashed Avocado on Toast</h3>
          <p class="chinese-name">A classic for good reason</p>
          <div class="recipe-tags">
            <span class="tag breakfast">Breakfast</span>
            <span class="tag western">Western</span>
            <span class="tag quick">Quick</span>
          </div>
        </div>

        <div class="recipe-card" data-tags="breakfast" data-recipe="porridge">
          <span class="recipe-icon">ü•£</span>
          <h3>Porridge with All the Toppings</h3>
          <p class="chinese-name">Chia, flaxseed, dried fruits, cacao nibs, and peanut butter</p>
          <div class="recipe-tags">
            <span class="tag breakfast">Breakfast</span>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Add Your Own Section -->
  <section class="section section-gradient">
    <div class="container">
      <div class="placeholder-content" style="background: transparent; border: none;">
        <h3>üí° Want to Add Your Own Recipes?</h3>
        <p>This website is designed to be easy to update! Simply edit this HTML file to add more recipes using the same card format.</p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h4>Powered by Plants üå±</h4>
        <p style="color: rgba(255,255,255,0.7);">Sharing my Veganuary journey ‚Äî tips, recipes, and discoveries from London and Hong Kong.</p>
      </div>
      <div class="footer-section">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="why-vegan.html">Why Vegan?</a></li>
          <li><a href="recipes.html">Recipes</a></li>
          <li><a href="tips.html">Tips</a></li>
          <li><a href="restaurants.html">Restaurants</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h4>Join the Journey</h4>
        <p style="color: rgba(255,255,255,0.7);">Veganuary 2026 ‚Äî Let's make it count!</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Powered by Plants. Made with üß° for the planet.</p>
    </div>
  </footer>

  <!-- Recipe Modal -->
  <div class="recipe-modal" id="recipe-modal">
    <div class="modal-content" id="modal-recipe-content">
      <!-- Content populated by JavaScript -->
    </div>
  </div>

  <!-- Recipe Data (separate file for easy editing) -->
  <script src="js/recipes-data.js"></script>

  <!-- JavaScript -->
  <script>
    // Mobile menu toggle
    function toggleMenu() {
      document.querySelector('.nav-links').classList.toggle('active');
    }

    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        document.querySelector('.nav-links').classList.remove('active');
      });
    });

    // Recipe filtering with multi-select, animations, count, and URL hash support
    const filterBtns = document.querySelectorAll('.filter-btn');
    const recipeCards = document.querySelectorAll('.recipe-card');
    const recipeCount = document.getElementById('recipe-count');
    const clearFiltersBtn = document.getElementById('clear-filters');
    const totalRecipes = recipeCards.length;
    let activeFilters = new Set();

    // Update recipe count display
    function updateCount() {
      const visibleCount = document.querySelectorAll('.recipe-card:not(.hidden)').length;
      if (activeFilters.size === 0) {
        recipeCount.textContent = `Showing all ${totalRecipes} recipes`;
      } else {
        const filterNames = Array.from(activeFilters).map(f => f.charAt(0).toUpperCase() + f.slice(1)).join(' + ');
        recipeCount.textContent = `Showing ${visibleCount} of ${totalRecipes} recipes (${filterNames})`;
      }
    }

    // Update URL hash
    function updateHash() {
      if (activeFilters.size === 0) {
        history.replaceState(null, '', window.location.pathname);
      } else {
        history.replaceState(null, '', '#' + Array.from(activeFilters).join(','));
      }
    }

    // Show/hide clear button
    function updateClearButton() {
      if (activeFilters.size > 0) {
        clearFiltersBtn.classList.remove('hidden');
      } else {
        clearFiltersBtn.classList.add('hidden');
      }
    }

    // Filter recipes with animation
    function filterRecipes() {
      recipeCards.forEach(card => {
        const cardTags = card.dataset.tags.split(' ');
        let shouldShow = false;

        if (activeFilters.size === 0) {
          shouldShow = true;
        } else {
          // Show if card has ALL selected filters (AND logic)
          shouldShow = Array.from(activeFilters).every(filter => cardTags.includes(filter));
        }

        if (shouldShow) {
          card.classList.remove('hidden');
          card.classList.remove('fade-out');
          card.classList.add('fade-in');
        } else {
          card.classList.add('fade-out');
          setTimeout(() => {
            if (card.classList.contains('fade-out')) {
              card.classList.add('hidden');
            }
          }, 300);
        }
      });

      // Update count after animation
      setTimeout(updateCount, 350);
      updateHash();
      updateClearButton();
    }

    // Handle filter button clicks
    filterBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const filter = btn.dataset.filter;

        if (filter === 'all') {
          // Clear all filters
          activeFilters.clear();
          filterBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        } else {
          // Toggle this filter
          if (activeFilters.has(filter)) {
            activeFilters.delete(filter);
            btn.classList.remove('active');
          } else {
            activeFilters.add(filter);
            btn.classList.add('active');
          }
          // Remove 'all' active state if other filters selected
          const allBtn = document.querySelector('[data-filter="all"]');
          if (activeFilters.size > 0) {
            allBtn.classList.remove('active');
          } else {
            allBtn.classList.add('active');
          }
        }

        filterRecipes();
      });
    });

    // Clear all filters
    clearFiltersBtn.addEventListener('click', () => {
      activeFilters.clear();
      filterBtns.forEach(b => b.classList.remove('active'));
      document.querySelector('[data-filter="all"]').classList.add('active');
      filterRecipes();
    });

    // Load filters from URL hash on page load
    function loadFromHash() {
      const hash = window.location.hash.slice(1);
      if (hash) {
        const filters = hash.split(',');
        filters.forEach(filter => {
          const btn = document.querySelector(`[data-filter="${filter}"]`);
          if (btn && filter !== 'all') {
            activeFilters.add(filter);
            btn.classList.add('active');
          }
        });
        if (activeFilters.size > 0) {
          document.querySelector('[data-filter="all"]').classList.remove('active');
          filterRecipes();
        }
      }
      updateCount();
    }

    // Initialize
    loadFromHash();

    // =============================================
    // RECIPE MODAL SYSTEM
    // =============================================

    // Recipe data is loaded from js/recipes-data.js

    // Modal elements
    const modal = document.getElementById('recipe-modal');
    const modalContent = document.getElementById('modal-recipe-content');

    // Open modal when clicking a recipe card
    document.querySelectorAll('.recipe-card').forEach(card => {
      card.addEventListener('click', (e) => {
        // Don't open modal if clicking on tags
        if (e.target.classList.contains('tag')) return;
        
        const recipeId = card.dataset.recipe;
        const recipe = recipes[recipeId];
        
        if (recipe) {
          openRecipeModal(recipe);
        }
      });
    });

    function openRecipeModal(recipe) {
      const tagsHTML = recipe.tags.map(tag => 
        `<span class="tag ${tag.toLowerCase()}">${tag}</span>`
      ).join('');
      
      const ingredientsHTML = recipe.ingredients.map(ing => 
        `<li>${ing}</li>`
      ).join('');
      
      const instructionsHTML = recipe.instructions.map(step => 
        `<li>${step}</li>`
      ).join('');

      modalContent.innerHTML = `
        <div class="modal-header">
          <button class="modal-close" onclick="closeRecipeModal()">&times;</button>
          <h2>${recipe.title}</h2>
          ${recipe.chinese ? `<p class="chinese-name">${recipe.chinese}</p>` : ''}
          <div class="modal-tags">${tagsHTML}</div>
        </div>
        <div class="modal-body">
          <div class="recipe-meta">
            <div class="meta-item">
              <span class="icon">‚è±Ô∏è</span>
              <div>
                <span class="label">Time</span><br>
                <span class="value">${recipe.time}</span>
              </div>
            </div>
            <div class="meta-item">
              <span class="icon">üçΩÔ∏è</span>
              <div>
                <span class="label">Servings</span><br>
                <span class="value">${recipe.servings}</span>
              </div>
            </div>
            <div class="meta-item">
              <span class="icon">üìä</span>
              <div>
                <span class="label">Difficulty</span><br>
                <span class="value">${recipe.difficulty}</span>
              </div>
            </div>
          </div>

          <div class="recipe-section">
            <h3>ü•¨ Ingredients</h3>
            <ul>${ingredientsHTML}</ul>
          </div>

          <div class="recipe-section">
            <h3>üë®‚Äçüç≥ Instructions</h3>
            <ol>${instructionsHTML}</ol>
          </div>

          ${recipe.tip ? `
          <div class="recipe-tip">
            <strong>üí° Tip:</strong> ${recipe.tip}
          </div>
          ` : ''}
        </div>
      `;

      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeRecipeModal() {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Close modal when clicking outside
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        closeRecipeModal();
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.classList.contains('active')) {
        closeRecipeModal();
      }
    });
  </script>
</body>
</html>
